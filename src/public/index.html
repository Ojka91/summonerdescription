<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Summoner Description. Get an AI generated description on your performance in League of Legends</title>
    <meta name="description"
        content="Get an AI generated description on your performance in league of legends. Do you play LoL? Have you ever wondered what an AI would say about your performance?" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <style>
        body {
            background-image: linear-gradient( rgb(103 103 103 / 50%), rgb(50 50 50 / 50%) ), url("./img/background.jpg");
            background-size: cover;
            background-position: center; /* Center the image */
            background-repeat: no-repeat; /* Do not repeat the image */
            background-attachment: fixed;
        }
        .btn-link {
            font-weight: 600;
            color: #6db7c5;
            background-color: transparent;
        }

        .alert-info {
            color: #0c5460;
            background-color: #cbeff6;
            border-color: #bee5eb;
        }

        .card-header {
            padding: 0.75rem 1.25rem;
            margin-bottom: 0;
            background-color: rgb(192 227 239 / 21%);
            border-bottom: 1px solid rgba(0, 0, 0, .125);
        }

        .alert-warning {
            color: #856404;
            background-color: #fffacd;
            border-color: #ffeeba;
        }

        .description {
            position: relative;
            padding: 10px;
            padding-left: 20px;
            margin-top: 10px;
            margin-bottom: 1rem;
            border: dashed 1px #48c4f7;
            ;
            border-radius: 0.25rem;
            font-size: 14px;
            font-style: italic;
            color: #707070;
            background-color: rgb(219 241 249 / 84%);
        }

        .lds-ellipsis {
            display: inline-block;
            position: relative;
            width: 80px;
            height: 80px;
        }

        .lds-ellipsis div {
            position: absolute;
            top: 33px;
            width: 13px;
            height: 13px;
            border-radius: 50%;
            background: #cef;
            animation-timing-function: cubic-bezier(0, 1, 1, 0);
        }

        .lds-ellipsis div:nth-child(1) {
            left: 8px;
            animation: lds-ellipsis1 0.6s infinite;
        }

        .lds-ellipsis div:nth-child(2) {
            left: 8px;
            animation: lds-ellipsis2 0.6s infinite;
        }

        .lds-ellipsis div:nth-child(3) {
            left: 32px;
            animation: lds-ellipsis2 0.6s infinite;
        }

        .lds-ellipsis div:nth-child(4) {
            left: 56px;
            animation: lds-ellipsis3 0.6s infinite;
        }

        @keyframes lds-ellipsis1 {
            0% {
                transform: scale(0);
            }

            100% {
                transform: scale(1);
            }
        }

        @keyframes lds-ellipsis3 {
            0% {
                transform: scale(1);
            }

            100% {
                transform: scale(0);
            }
        }

        @keyframes lds-ellipsis2 {
            0% {
                transform: translate(0, 0);
            }

            100% {
                transform: translate(24px, 0);
            }
        }
    </style>
</head>

<body class="d-flex flex-column h-100" style="background-color: #f3f5f5b5;">

    <main style="margin-top: 10px;" id="app">
        <div class="container " id="summonerdescription"
            style="margin-top: 10px; max-width: 700px; width: auto; padding: 0, 15px; background-color: #e0e0e02b;">
            <h1 class="d-flex justify-content-center" style="color: #f6f6f6;  text-shadow: rgb(57 174 169) 0px 0px 7px; padding-top: 25px;">Summoner Description</h1>
            <br>
            <p class="lead d-flex justify-content-center" style="color: rgb(255 255 255 / 94%)  ; text-shadow: rgb(94 184 176) 0px 0px 7px;">Get a (fun) AI generated description
                based on your performance in League of Legends
            </p>

            <div class="mt-5 text-muted alert alert-info" role="alert">
                üöÄ Analyze your rank and in-game data and let an AI make fun of your games <span
                    class="fst-italic fw-lighter fs-6">(the system is improving every day to collect more data from your
                    games)</span>
            </div>
            <div class="alert alert-secondary" role="alert">
                ‚öôÔ∏è We are working to include more features and different ways to analyze your data
            </div>




            <!--    test-->
            <div id="accordion">
                <div class="card">
                    <div class="card-header" id="headingOne"
                        style="display: flex; flex-direction: row; justify-content: space-between;">
                        <h5 class="mb-0">
                            <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne"
                                aria-expanded="true" aria-controls="collapseOne" @click="setDescription()">
                                Generate Description
                            </button>
                        </h5>
                        <p type="button" class="btn btn-warning" data-toggle="modal" data-target="#descriptionModal"
                            style="margin: 0;">Info</p>
                    </div>

                    <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                        <div style="display: flex; justify-content: space-around; align-items: center;">
                            <div>
                                <input class="form-check-input" type="radio" id="Premium" name="drone" value="premium"
                                    checked @click="setDescriptionsPremium()"><label class="form-check-label"
                                    for="premium">Premium <a href="#" data-toggle="modal"
                                        data-target="#premiumModal">Why?</a></label>

                            </div>
                            <div>
                                <input class="form-check-input" type="radio" id="Free" name="drone" value="free"
                                    @click="setDescriptionsFree()">
                                <label class="form-check-label" for="free">Free <a href="#" data-toggle="modal"
                                        data-target="#freeTierModal">Why?</a></label>

                            </div>
                        </div>
                        <div class="card-body" v-if="descriptionChoosed === 'Premium'">
                            <form onsubmit="return false;" id="getDescriptionForm">
                                <div class="mb-3">
                                    <label class="form-label">Summoner name</label>
                                    <input type="text" class="form-control" v-model="premiumName"
                                        placeholder="Enter a username">
                                </div>

                                <div class="mb-3">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text" for="inputGroupSelect01">Region</label>
                                        </div>
                                        <select class="custom-select" id="inputGroupSelect01" v-model="premiumRegion">
                                            <option v-for="region in regions" :value="region">{{region}}</option>
                                        </select>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-primary" data-toggle="modal"
                                    data-target="#paymentModal">Get description</button>
                            </form>
                        </div>

                        <div class="card-body" v-if="descriptionChoosed === 'Free'">
                            <form onsubmit="return false;" id="getFreeDescriptionForm">
                                <div class="mb-3">
                                    <label class="form-label">Summoner name</label>
                                    <input type="text" class="form-control" v-model="freeName"
                                        placeholder="Enter a username">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">OpenAI API KEY <a
                                            href="https://www.windowscentral.com/software-apps/how-to-get-an-openai-api-key"
                                            target="_blank">how
                                            do I get this?</a> </label>
                                    <input type="text" class="form-control" v-model="freeApiKey"
                                        placeholder="I promise I do not store this anywhere (optional)">
                                </div>

                                <div class="mb-3">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text" for="inputGroupSelect01">Region</label>
                                        </div>
                                        <select class="custom-select" id="inputGroupSelect01" v-model="freeRegion">
                                            <option v-for="region in regions" v-bind:value="region" id="freeRegion">
                                                {{region}}</option>
                                        </select>
                                    </div>
                                </div>
                                <button @click="getFreeDescription()" class="btn btn-primary">Get description</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" id="headingTwo"
                        style="display: flex; flex-direction: row; justify-content: space-between;">
                        <h5 class="mb-0">
                            <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo"
                                aria-expanded="false" aria-controls="collapseTwo" @click="setVersus()">
                                Versus <span style="text-shadow: rgb(255 255 255) 0px 0px 2px, rgb(225 45 255) 0px 0px 5px;
                                color: rgb(47, 107, 235); font-style: italic;">New!</span>
                            </button>
                        </h5>
                        <p type="button" class="btn btn-warning" data-toggle="modal" data-target="#versusModal"
                            style="margin: 0;">Info</p>
                    </div>
                    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
                        <div class="card-body">

                            <div style="display: flex; justify-content: space-around; align-items: center;">
                                <div>
                                    <input class="form-check-input" type="radio" id="VersusPremium" name="versus"
                                        value="versuspremium" checked @click="setVersusPremium()"><label
                                        class="form-check-label" for="premium">Premium <a href="#" data-toggle="modal"
                                            data-target="#premiumModal">Why?</a></label>

                                </div>
                                <div>
                                    <input class="form-check-input" type="radio" id="VersusFree" name="versus"
                                        value="versusfree" @click="setVersusFree()">
                                    <label class="form-check-label" for="free">Free <a href="#" data-toggle="modal"
                                            data-target="#freeTierModal">Why?</a></label>

                                </div>
                            </div>
                            <div class="card-body" v-if="versusChoosed === 'Premium'">
                                <form onsubmit="return false;" id="getVersusForm">
                                    <div class="mb-3">
                                        <label class="form-label">Summoner 1</label>
                                        <input type="text" class="form-control" v-model="premiumVersusName1"
                                            placeholder="Enter a username">
                                    </div>

                                    <div class="mb-3">
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text" for="inputGroupSelect01">Region</label>
                                            </div>
                                            <select class="custom-select" id="inputGroupSelect01"
                                                v-model="premiumVersusRegion1">
                                                <option v-for="region in regions" :value="region">{{region}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Summoner 2</label>
                                        <input type="text" class="form-control" v-model="premiumVersusName2"
                                            placeholder="Enter a username">
                                    </div>

                                    <div class="mb-3">
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text" for="inputGroupSelect01">Region</label>
                                            </div>
                                            <select class="custom-select" id="inputGroupSelect01"
                                                v-model="premiumVersusRegion2">
                                                <option v-for="region in regions" :value="region">{{region}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-primary" data-toggle="modal"
                                        data-target="#paymentModal">Get results</button>
                                </form>
                            </div>

                            <div class="card-body" v-if="versusChoosed === 'Free'">
                                <form onsubmit="return false;" id="getFreeVersusForm">
                                    <div class="mb-3">
                                        <label class="form-label">Summoner 1</label>
                                        <input type="text" class="form-control" v-model="freeVersusName1"
                                            placeholder="Enter a username">
                                    </div>

                                    <div class="mb-3">
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text" for="inputGroupSelect01">Region</label>
                                            </div>
                                            <select class="custom-select" id="inputGroupSelect01" v-model="freeVersusRegion1">
                                                <option v-for="region in regions" v-bind:value="region" id="freeVersusRegion1">
                                                    {{region}}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label">Summoner 2</label>
                                        <input type="text" class="form-control" v-model="freeVersusName2"
                                            placeholder="Enter a username">
                                    </div>

                                    <div class="mb-3">
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text" for="inputGroupSelect01">Region</label>
                                            </div>
                                            <select class="custom-select" id="inputGroupSelect01" v-model="freeVersusRegion2">
                                                <option v-for="region in regions" v-bind:value="region" id="freeVersusRegion2">
                                                    {{region}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">OpenAI API KEY <a
                                                href="https://www.windowscentral.com/software-apps/how-to-get-an-openai-api-key"
                                                target="_blank">how
                                                do I get this?</a> </label>
                                        <input type="text" class="form-control" v-model="freeVersusApiKey"
                                            placeholder="I promise I do not store this anywhere (optional)">
                                    </div>
                                    <button @click="getFreeVersus()" class="btn btn-primary">Get
                                        results</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="card">
                    <div class="card-header" id="headingThree"
                        style="display: flex; flex-direction: row; justify-content: space-between;">
                        <h5 class="mb-0">
                            <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree"
                                aria-expanded="false" aria-controls="collapseThree" @click="setCreate()">
                                Create new champion! <span style="text-shadow: rgb(255 255 255) 0px 0px 2px, rgb(225 45 255) 0px 0px 5px;
                                color: rgb(47, 107, 235);">New!</span>
                            </button>
                        </h5>
                        <p type="button" class="btn btn-warning" data-toggle="modal" data-target="#createModal"
                            style="margin: 0;">Info</p>
                    </div>
                    <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
                        <div class="card-body">

                            <div style="display: flex; justify-content: space-around; align-items: center;">
                                <div>
                                    <input class="form-check-input" type="radio" id="CreatePremium" name="create"
                                        value="createpremium" checked @click="setCreatePremium()"><label
                                        class="form-check-label" for="premium">Premium <a href="#" data-toggle="modal"
                                            data-target="#premiumModal">Why?</a></label>

                                </div>
                                <div>
                                    <input class="form-check-input" type="radio" id="CreateFree" name="create"
                                        value="createfree" @click="setCreateFree()">
                                    <label class="form-check-label" for="free">Free <a href="#" data-toggle="modal"
                                            data-target="#freeTierModal">Why?</a></label>

                                </div>
                            </div>
                            <div class="card-body" v-if="createChoosed === 'Premium'">
                                <form onsubmit="return false;" id="getCreateForm">
                                    <div class="mb-3">
                                        <label class="form-label">Summoner name</label>
                                        <input type="text" class="form-control" v-model="premiumCreateName"
                                            placeholder="Enter a username">
                                    </div>

                                    <div class="mb-3">
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text" for="inputGroupSelect01">Region</label>
                                            </div>
                                            <select class="custom-select" id="inputGroupSelect01"
                                                v-model="premiumCreateRegion">
                                                <option v-for="region in regions" :value="region">{{region}}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <button type="button" class="btn btn-primary" data-toggle="modal"
                                        data-target="#paymentModal">Get results</button>
                                </form>
                            </div>

                            <div class="card-body" v-if="createChoosed === 'Free'">
                                <form onsubmit="return false;" id="getFreeCreateForm">
                                    <div class="mb-3">
                                        <label class="form-label">Summoner name</label>
                                        <input type="text" class="form-control" v-model="freeCreateName"
                                            placeholder="Enter a username">
                                    </div>

                                    <div class="mb-3">
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                <label class="input-group-text" for="inputGroupSelect01">Region</label>
                                            </div>
                                            <select class="custom-select" id="inputGroupSelect01" v-model="freeCreateRegion">
                                                <option v-for="region in regions" v-bind:value="region" id="freeCreateRegion">
                                                    {{region}}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label">OpenAI API KEY <a
                                                href="https://www.windowscentral.com/software-apps/how-to-get-an-openai-api-key"
                                                target="_blank">how
                                                do I get this?</a> </label>
                                        <input type="text" class="form-control" v-model="freeCreateApiKey"
                                            placeholder="I promise I do not store this anywhere (optional)">
                                    </div>
                                    <button @click="getFreeCreate()" class="btn btn-primary">Create new champ</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--   fin test-->


            <div style="display:flex; justify-content: center; align-items: center; flex-direction: column;"
                v-if="loading">
                <div style="color: rgb(209 209 209);">Wait! This may take a while...</div>
                <div class="lds-ellipsis">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>

            <div class="description" v-if="description">
                {{description}}
            </div>
            <img style="max-width: 100%;" :src=image alt="">
            <div class="mt-5 text-muted alert alert-warning " role="alert"
                style="display: flex; justify-content: space-between;">
                <p style="margin: 0;">Made with love ‚ù§Ô∏è</p>
                <p style="margin: 0;"><a href="https://ko-fi.com/oscarlucena" target="_blank">Buy me a coffee <img style="height: 30px;" src="./img/kofi.png" alt=""></a></p>

            </div>
            <footer
                style="display: flex; justify-content: space-between; flex-direction: row; font-size: small; color: rgb(209 209 209);">
                <p>Inspired by <a href="https://abbrevia.me" target="_blank">abbrevia.me</a></p>
                <p>Contact: summonerdescription@gmail.com</p>
            </footer>
            <div style="color: rgb(209 209 209);; font-size: small;">
                <p>*Summoner Description isn't endorsed by Riot Games and doesn't reflect the views or opinions of Riot
                    Games or anyone officially involved in producing or managing Riot Games properties. Riot Games, and
                    all associated properties are trademarks or registered trademarks of Riot Games, Inc.</p>
            </div>
    </main>

    <div class="modal fade" id="premiumModal" tabindex="-1" role="dialog" aria-labelledby="premiumModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="premiumModalLabel">Premium Tier</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Premium costs 1$. There are a few reasons for premium tier exist:</p>
                    <ol>
                        <li>Mantaining servers and using openAI costs me money. With this tier you help me keep
                            this project running and avoid limitations.</li>
                        <li>Using an AI comes with a high cost. Studies estimate a short conversation costs 0,5l
                            of water. I will donate 10% to plant trees.</li>
                    </ol>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Understood,
                        thanks</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="freeTierModal" tabindex="-1" role="dialog" aria-labelledby="freeTierModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="freeTierModalLabel">Free Tier</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>There is a limit of 100 free requests per day. The reason for that is that using my api key costs
                        me money.</p>
                    <p>You can still use your own openAI Api Key to perform as many requests as you like :)</p>
                    <p>I do not store your
                        api key credentials anywhere. I promise. </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Understood,
                        thanks</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="paymentModal" tabindex="-1" role="dialog" aria-labelledby="paymentModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="paymentModalLabel">Premium Tier</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Premium tier has a cost of 1$.
                        Each request to chatGPT and mantaining servers costs money. This will help me keeping it up.
                    </p>
                    <p>Please select your prefered payment method.</p>
                    <div id="paypal-button-container"></div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">No,
                        thanks</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="descriptionModal" tabindex="-1" role="dialog" aria-labelledby="descriptionModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="descriptionModalLabel">Generate Description</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Want to know what an AI thinks of a player?</p>
                    <p>We will get a summoner data, rank, last matches, performance... and send it to the best AI out
                        there for it to generate a fun description of the summoner playstyle.</p>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Understood,
                        thanks</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="versusModal" tabindex="-1" role="dialog" aria-labelledby="versusModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="versusModalLabel">Versus</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Want to know which player is better?</p>
                    <p>We will analyze two players ingame data and get them be processed by an AI for it to decide which
                        player is better.</p>
                    <p>Want to test with your friends?</p>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Yes I want!</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="createModal" tabindex="-1" role="dialog" aria-labelledby="createModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="createModalLabel">Create</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Want to know what would you be if you were a champ based on your playstyle?</p>
                    <p>We will analyze your ingame data and an AI will create a League Of Legends new champion, with spells and picture included :)</p>
                    <p>Want to try it?</p>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Yes I want!</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="thanksModal" tabindex="-1" role="dialog" aria-labelledby="thanksModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="thanksModalLabel">Thank you</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    ‚ù§Ô∏è Thank you for helping mantain this project :)
                    Your request is being processed

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Thank you</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="./scripts/index.js"></script>
    <!-- Replace "test" with your own sandbox Business account app client ID -->
    <script
        src="https://www.paypal.com/sdk/js?client-id=Ad5YLQJXz8MZKLJCBS_mLoBo3R-owInxvQEDQJClKkgEG0iwoYiK7KmONmdZmF4PVaRmgTwo8uyeWp7e&currency=USD&disable-funding=sofort">
    </script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous">
    </script>
    <script>
        paypal.Buttons({
            // Order is created on the server and the order id is returned
            createOrder() {
                return fetch(`/${app.oppenedModal}/premium/order/create`, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        // use the "body" param to optionally pass additional order information
                        // like product skus and quantities
                    })
                    .then((response) => response.json())
                    .then((order) => order.id);
            },
            // Finalize the transaction on the server after payer approval
            onApprove(data) {
                $('#paymentModal').modal('hide')
                $('#thanksModal').modal('show')
                app.loading = true
                app.image = ''
                app.description = ''

                if (app.oppenedModal === "description") {
                    return fetch(`/${app.oppenedModal}/premium/order/process`, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            orderId: data.orderID,
                            summonerName: app.premiumName,
                            region: app.premiumRegion
                        })
                    })
                    .then((response) => response.json())
                    .then((orderData) => {
                        app.description = JSON.stringify(orderData)
                        app.loading = false

                    });
                } else if (app.oppenedModal === "versus"){
                    return fetch(`/${app.oppenedModal}/premium/order/process`, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            orderId: data.orderID,
                            summonerName1: app.premiumVersusName1,
                            region1: app.premiumVersusRegion1,
                            summonerName2: app.premiumVersusName2,
                            region2: app.premiumVersusRegion2
                        })
                    })
                    .then((response) => response.json())
                    .then((orderData) => {
                        app.description = JSON.stringify(orderData)
                        app.loading = false

                    });
                } else if (app.oppenedModal === "create"){
                    return fetch(`/${app.oppenedModal}/premium/order/process`, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            orderId: data.orderID,
                            summonerName: app.premiumCreateName,
                            region: app.premiumCreateRegion
                        })
                    })
                    .then((response) => response.json())
                    .then((orderData) => {
                        app.description = orderData.champDescription
                        app.image = orderData.image
                        app.loading = false

                    });
                }
            }
        }).render('#paypal-button-container');
    </script>
</body>

</html>